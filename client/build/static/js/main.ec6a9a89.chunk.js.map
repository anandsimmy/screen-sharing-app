{"version":3,"sources":["components/VideoComponent/VideoComponent.js","assets/share.png","assets/video-cam.png","App.js","connection-utils/connection.js","index.js","components/VideoComponent/VideoComponent.module.css","App.module.css"],"names":["VideoComponent","useState","appState","setAppState","className","styles","videoWrapper","id","myVideo","autoPlay","userVideo","buttonContainer","alt","src","title","onClick","currentState","switchIconStyles","App","useEffect","MESSAGE_TYPE","document","getElementById","switchButton","codeInput","senders","userMediaStream","displayMediaStream","a","signaling","WebSocket","navigator","mediaDevices","getUserMedia","audio","video","srcObject","createPeerConnection","startConnection","addEventListener","getDisplayMedia","innerText","find","stream","track","kind","replaceTrack","getTracks","console","log","sendMessage","message","send","JSON","stringify","code","peerConnection","RTCPeerConnection","iceServers","urls","forEach","push","addTrack","addMessageHandler","onnegotiationneeded","createAndSendOffer","onicecandidate","iceEvent","message_type","content","candidate","ontrack","event","streams","onmessage","parse","data","text","type","setRemoteDescription","createAnswer","answer","setLocalDescription","addIceCandidate","createOffer","offer","setupConnection","container","ReactDOM","render","StrictMode","module","exports"],"mappings":"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","file":"static/js/main.ec6a9a89.chunk.js","sourcesContent":["import React, { useState } from 'react'\nimport VideoIcon from '../../assets/video-cam.png';\nimport ScreenShareIcon from '../../assets/share.png';\nimport styles from './VideoComponent.module.css'\n \nconst VideoComponent= () => {\n\n  const [appState, setAppState] = useState('video');\n  \n  return (\n    <div className={styles.videoWrapper}>\n      <video\n        id='my-video'\n        className={styles.myVideo}\n        // controls\n        autoPlay\n      />\n      <video\n        id='user-video'\n        className={styles.userVideo}\n        // controls\n        autoPlay\n      />\n      <div className={styles.buttonContainer}>\n        {/* <button id=\"start\">Start</button> */}\n        <img\n          alt='switch'\n          src={appState === 'video' ? ScreenShareIcon : VideoIcon}\n          title={`Switch to ${appState === 'video' ? 'Screen Share' : 'Video'}`}\n          onClick={() =>  setAppState((currentState) => currentState === 'video' ? 'screenShare' : 'video')}\n          className={styles.switchIconStyles}\n          id=\"switch\"\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default VideoComponent","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import React, { useEffect } from 'react'\nimport { setupConnection } from './connection-utils/connection';\nimport CodeComponent from './components/CodeComponent/CodeComponent'\nimport VideoComponent from './components/VideoComponent/VideoComponent'\nimport styles from './App.module.css';\n \nconst App= () => {\n\n  useEffect(()=> {\n    setupConnection();\n  }, [])\n\n  return (\n    <div className={styles.container}>\n        {/* <CodeComponent /> */}\n        <VideoComponent />\n    </div>\n  );\n}\n\nexport default App;\n","\nexport const setupConnection = () => {\n\n    const MESSAGE_TYPE= {\n        SDP: 'SDP',\n        CANDIDATE: 'CANDIDATE',\n    }\n    \n    const myVideo= document.getElementById('my-video')\n    const userVideo= document.getElementById('user-video')\n    // const startButton= document.getElementById('start')\n    const switchButton= document.getElementById('switch')\n    // const codeInput= document.getElementById('code')\n    const codeInput= {value: 1}\n    \n    const senders= [];\n    let userMediaStream= null\n    let displayMediaStream= null;\n    \n    const startConnection = async () => {\n        const signaling= new WebSocket('ws://127.0.0.1:1337')\n    \n        // adding audio and video tracks to peer connection\n        userMediaStream= await navigator.mediaDevices.getUserMedia({ audio: false, video: true })\n        myVideo.srcObject= userMediaStream\n        \n        createPeerConnection(signaling, userMediaStream)\n    }\n\n    //starting automatically\n    startConnection();\n    \n    // startButton.addEventListener('click', async () => {\n    // })\n    \n    switchButton.addEventListener('click', async () => {\n        if(!displayMediaStream){\n            displayMediaStream= await navigator.mediaDevices.getDisplayMedia();\n        }\n        if(switchButton.innerText === 'Switch'){\n            senders.find(stream => stream.track.kind === 'video').replaceTrack(displayMediaStream.getTracks()[0])\n            switchButton.innerText= 'Video'\n        } else {\n            console.log('userMediaStream', userMediaStream.getTracks())\n            senders.find(stream => stream.track.kind === 'video').replaceTrack(\n                userMediaStream.getTracks().find(stream => stream.kind === 'video')\n            )\n            switchButton.innerText= 'Switch'\n        }\n    })\n    \n    const sendMessage= (signaling, message) => {\n        signaling.send(\n            JSON.stringify({\n                ...message,\n                code: codeInput.value\n        }))\n    }\n    \n    const createPeerConnection= (signaling, userMediaStream) => {\n        // creating peer connection\n        const peerConnection= new RTCPeerConnection({\n            iceServers: [{ urls: 'stun:stun.test.com:19000' }]\n        })\n    \n        userMediaStream.getTracks().forEach(track => senders.push(peerConnection.addTrack(track, userMediaStream)))\n    \n        addMessageHandler(signaling, peerConnection)\n    \n        peerConnection.onnegotiationneeded= () => {\n            createAndSendOffer(signaling, peerConnection)\n        }\n    \n        peerConnection.onicecandidate= (iceEvent) => {\n            sendMessage(signaling, {\n                    message_type: MESSAGE_TYPE.CANDIDATE,\n                    content: iceEvent.candidate\n            })\n        }\n    \n        peerConnection.ontrack= (event) => {\n            if(!userVideo.srcObject){\n                userVideo.srcObject= event.streams[0]\n            }\n        }\n    }\n    \n    const addMessageHandler= (signaling, peerConnection) => {\n        signaling.onmessage= async (message) => {\n            console.log(message)\n            message= JSON.parse(message.data)\n            const { message_type, content }= JSON.parse(message.text)\n            if(message_type === MESSAGE_TYPE.SDP){\n                if(content.type === 'offer'){\n                    await peerConnection.setRemoteDescription(content)\n                    const answer= await peerConnection.createAnswer()\n                    await peerConnection.setLocalDescription(answer)\n                    sendMessage(signaling, {\n                        message_type: MESSAGE_TYPE.SDP,\n                        content: answer\n                    })\n                }\n                else if(content.type ==='answer'){\n                    peerConnection.setRemoteDescription(content)\n                }\n            }else if(message_type === MESSAGE_TYPE.CANDIDATE){\n                peerConnection.addIceCandidate(content)\n            }\n        }\n    \n    }\n    \n    const createAndSendOffer= async (signaling, peerConnection) => {\n        // creating SDP offer (Session Description Protocol)\n        const offer= await peerConnection.createOffer()\n    \n        // setting local description\n        await peerConnection.setLocalDescription(offer)\n    \n        // sending offer\n        sendMessage(signaling, {\n            message_type: MESSAGE_TYPE.SDP,\n            content: offer\n        })\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"videoWrapper\":\"VideoComponent_videoWrapper__2IeL1\",\"myVideo\":\"VideoComponent_myVideo__14kWW\",\"userVideo\":\"VideoComponent_userVideo__3x9TR\",\"buttonContainer\":\"VideoComponent_buttonContainer__2OY6F\",\"switchIconStyles\":\"VideoComponent_switchIconStyles__1EzKA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\"};"],"sourceRoot":""}